<div class="modal-content">

    <button class="btn btn-light close" (click)="closeForm()"></button>
    <form class="row g-3" [formGroup]="addWorkerForm">
        <div id="cardDiv">
            <h3>Enter Worker Details</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="#89c5ad" class="bi bi-person-vcard"
                viewBox="0 0 16 16">
                <path
                    d="M5 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4m4-2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5M9 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 9 8m1 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5" />
                <path
                    d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8.96q.04-.245.04-.5C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 1 1 12z" />
            </svg>
        </div>
        <div class="flexDiv">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput" formControlName="idNumber">
                <label class="label" for="floatingInput">Id Number</label>
                <ng-container
                    *ngIf="addWorkerForm.controls['idNumber'].errors && (addWorkerForm.controls['idNumber'].touched || addWorkerForm.controls['idNumber'].dirty)">
                    <div class="error-message" *ngIf="addWorkerForm.controls['idNumber'].errors['required']">This Field
                        Is Required</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['idNumber'].errors['minlength']">At least 9
                        characters</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['idNumber'].errors['maxlength']">Maximum 9
                        characters</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['idNumber'].errors['pattern']">Invalid
                        identity number</div>
                </ng-container>
            </div>

            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="floatingInput" formControlName="password">
                <label for="floatingInput" class="label">Password</label>
                <ng-container *ngIf="addWorkerForm.controls['password'].errors&&
                (addWorkerForm.controls['password'].touched||addWorkerForm.controls['password'].dirty)">
                    <div class="error-message" *ngIf="addWorkerForm.controls['password'].errors['required']"
                        class="error-message">This FieldIs
                        Required</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['password'].errors['maxlength']"
                        class="error-message">Minimum 2
                        characters</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['password'].errors['pattern']"
                        class="error-message">Invalid
                        Password
                    </div>
                </ng-container>
            </div>
        </div>

        <div class="flexDiv">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput" formControlName="firstName">
                <label for="floatingInput" class="label">First Name</label>
                <ng-container *ngIf="addWorkerForm.controls['firstName'].errors&&
        (addWorkerForm.controls['firstName'].touched||addWorkerForm.controls['firstName'].dirty)">
                    <div class="error-message" *ngIf="addWorkerForm.controls['firstName'].errors['required']"
                        class="error-message">This Field
                        Is
                        Required</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['firstName'].errors['maxlength']"
                        class="error-message">Minimum 2
                        characters</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['firstName'].errors['pattern']"
                        class="error-message">Invalid
                        Name
                    </div>
                </ng-container>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingInput" formControlName="lastName">
                <label for="floatingInput" class="label">Last Name</label>
                <ng-container *ngIf="addWorkerForm.controls['lastName'].errors&&
            (addWorkerForm.controls['lastName'].touched||addWorkerForm.controls['lastName'].dirty)">
                    <div class="error-message" *ngIf="addWorkerForm.controls['lastName'].errors['required']"
                        class="error-message">This Field
                        Is
                        Required</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['lastName'].errors['maxlength']"
                        class="error-message">Minimum 2
                        characters</div>
                    <div class="error-message" *ngIf="addWorkerForm.controls['lastName'].errors['pattern']"
                        class="error-message">Invalid Name
                    </div>
                </ng-container>
            </div>
        </div>




        <div class="flexDiv">
            <div class="form-floating mb-3">
                <input type="date" class="form-control" id="floatingInputStartDate" formControlName="startDate"
                    [readonly]="addWorkerForm.get('startDate')!.value !== ''">
                <label for="floatingInputStartDate" class="label">Working Start Date</label>
                <ng-container
                    *ngIf="addWorkerForm.controls['startDate'].errors && (addWorkerForm.controls['startDate'].touched || addWorkerForm.controls['startDate'].dirty)">
                    <div *ngIf="addWorkerForm.controls['startDate'].errors['required']" class="error-message">This Field
                        Is
                        Required</div>
                </ng-container>
            </div>


            <div class="form-floating mb-3">
                <input type="date" class="form-control" id="floatingInput" formControlName="dateOfBirth">
                <label for="floatingInput" class="label">Date Of Birth</label>
                <ng-container *ngIf="addWorkerForm.controls['dateOfBirth'].errors&&
            (addWorkerForm.controls['dateOfBirth'].touched||addWorkerForm.controls['dateOfBirth'].dirty)">
                    <div *ngIf="addWorkerForm.controls['dateOfBirth'].errors['required']" class="error-message">This
                        Field
                        Is
                        Required</div>
                </ng-container>
            </div>
            

            <div class="columnDiv">
                <label id="labelDiv" class="label">Gender</label>
                <select class="form-select" aria-label="Default select example" formControlName="gender">
                    <option *ngFor="let genderKey of getGenderKeys()">
                        {{ genderKey}}
                    </option>
                </select>
            </div>
        </div>


        <button class="btn btn-outline-primary" (click)="showAddRolesComponent()"
            [disabled]="!addWorkerForm.get('startDate')!.value">Add Roles</button>
        <div *ngIf="addWorkerForm.value.startDate!=null">
            <ng-template #addRolesContainer>
            </ng-template>
        </div>
        <div *ngIf="addWorkerForm.get('startDate')!.value === null">
            <div class="error-message">Please select a start date</div>
        </div>


        <button class="btn btn-primary" type="submit" (click)="addWorker()" [disabled]="addWorkerForm.invalid">Add
            Worker</button>
    </form>
</div>